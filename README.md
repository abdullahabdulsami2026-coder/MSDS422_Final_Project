# Predicting 30-Day Hospital Readmissions for Diabetes Patients

**MSDS 422: Practical Machine Learning - Final Project**  
**Milestone 2: Project Proposal**

## Team Members
- Abdullah Abdul Sami
- Feifan Liu
- Jiahao Li

## Project Overview

This project develops a machine learning pipeline to predict 30-day hospital readmission risk for diabetes patients using the UCI Diabetes 130-US Hospitals dataset. We compare four modeling approaches—Logistic Regression, Random Forest, XGBoost, and Deep Neural Networks—to achieve AUROC ≥0.75 for accurate clinical risk stratification.

**Key Objectives:**
- Develop predictive models achieving AUROC ≥0.75, Recall ≥0.65, Precision ≥0.25
- Identify top 10 clinical and demographic risk factors
- Ensure clinical interpretability through SHAP, LIME, and Partial Dependence Plots
- Design realistic deployment strategy for EHR integration

## Dataset

**Source:** UCI Machine Learning Repository - [Diabetes 130-US Hospitals (1999-2008)](https://archive.ics.uci.edu/ml/datasets/diabetes+130-us+hospitals+for+years+1999-2008)

**Characteristics:**
- 101,766 inpatient encounters across 130 US hospitals
- 55 features: demographics, admission details, diagnoses, medications, lab results, prior utilization
- Target: 30-day readmission (11.2% positive class, 7.2:1 imbalance ratio)
- Expected final dataset: ~70,000 encounters after preprocessing

**Citation:**  
Strack, B., DeShazo, J. P., Gennings, C., Olmo, J. L., Ventura, S., Cios, K. J., & Clore, J. N. (2014). Impact of HbA1c measurement on hospital readmission rates: Analysis of 70,000 clinical database patient records. *BioMed Research International, 2014*, 781670.

## Repository Structure

```
MSDS422_Diabetes_Readmission_Project/
├── README.md                                    # This file
├── requirements.txt                             # Python dependencies
├── data/
│   ├── README.md                               # Dataset download instructions
│   └── diabetic_data.csv                       # (Download from UCI - not included)
├── scripts/
│   ├── 01_exploratory_data_analysis.py        # EDA script (generates 6 figures)
│   ├── 02_preprocessing.py                     # (To be developed Week 6)
│   └── 03_feature_engineering.py               # (To be developed Week 6)
├── notebooks/
│   ├── 01_exploratory_data_analysis.ipynb     # (To be developed Week 6)
│   └── 02_model_development.ipynb              # (To be developed Week 7)
├── outputs/
│   └── figures/
│       ├── 01_missing_data_analysis.png       # (Generated by EDA script)
│       ├── 02_target_distribution.png
│       ├── 03_demographics.png
│       ├── 04_continuous_distributions.png
│       ├── 05_medication_changes.png
│       └── 06_correlation_matrix.png
├── docs/
│   ├── Milestone2_Report_FINAL.docx           # Main project proposal (CMOS format)
│   └── Annotated_Bibliography_FINAL.docx      # 9 papers with annotations
└── presentation/
    └── Milestone2_Slides.pptx                 # (To be created)
```

## Installation and Setup

### Prerequisites
- Python 3.8 or higher
- pip package manager

### Install Dependencies
```bash
pip install -r requirements.txt
```

### Download Dataset
1. Visit the [UCI ML Repository](https://archive.ics.uci.edu/ml/datasets/diabetes+130-us+hospitals+for+years+1999-2008)
2. Download `dataset_diabetes.zip`
3. Extract `diabetic_data.csv` to the `data/` directory

## Running the Code

### Exploratory Data Analysis
```bash
cd scripts
python 01_exploratory_data_analysis.py
```

**Expected Output:**
- 6 PNG figures saved to `outputs/figures/`
- Console output with data summary statistics
- Missing data analysis
- Target variable distribution
- Feature correlations

### Future Steps (Weeks 6-10)
- **Week 6-7:** Preprocessing pipeline, feature engineering, model development
- **Week 8:** Model evaluation and comparison on test set
- **Week 9:** Interpretability analysis (SHAP, LIME, PDPs)
- **Week 10:** Final report and presentation

## Methodology

### Data Preparation
1. Remove deceased/hospice discharges
2. Handle duplicate encounters (keep first per patient)
3. Drop high-missingness features (weight 97%, payer_code 52%)
4. Create binary readmission target (<30 days = 1)
5. Group ICD-9 codes into 9 clinical categories
6. Encode categoricals (one-hot for <10 categories, target encoding for high-cardinality)
7. Standardize continuous features
8. Handle 7.2:1 class imbalance with SMOTE + class weights

### Feature Engineering (22+ Derived Features)
- **Comorbidity Indicators:** has_circulatory_dx, has_respiratory_dx, diabetes_complexity, polypharmacy
- **Utilization Metrics:** total_prior_visits, high_utilizer, frequent_readmitter
- **Medication Management:** insulin_user, oral_agents_count, medication_intensity
- **Lab Attention:** glucose_checked, a1c_checked, poor_control
- **Interaction Terms:** age×time_in_hospital, num_medications×change, a1c_checked×diabetes_complexity

### Models
1. **Logistic Regression** - Interpretable baseline (target AUROC ≥0.68)
2. **Random Forest** - Ensemble method (target AUROC ≥0.70)
3. **XGBoost** - Expected best performer (target AUROC ≥0.75)
4. **Deep Neural Network** - Complex patterns (target AUROC ≥0.72)

### Evaluation Metrics
- **Primary:** AUROC (threshold-independent, handles imbalance)
- **Secondary:** Precision, Recall, F1-Score, Specificity
- **Clinical:** Work-up-to-Detection Ratio, Number Needed to Evaluate, Calibration

### Interpretability
- **Feature Importance:** Coefficients (LR), MDI (RF), Gain/Cover (XGBoost), Permutation (DNN)
- **SHAP:** Global importance, individual explanations, interaction effects
- **LIME:** Local approximations for patient-specific explanations
- **Partial Dependence Plots:** Visualize feature-outcome relationships

## Key Findings (From Literature Review)

Based on our annotated bibliography of 9 papers:

- **XGBoost** achieved AUROC 0.667 on this dataset (Emi-Johnson & Nkrumah, 2025) - our target to exceed
- **Deep learning** achieved AUROC 0.75-0.76 for readmission prediction with FHIR data (Rajkomar et al., 2018)
- **Multi-layer classification** detected 33% of readmissions vs. 2% baseline (Zolfaghar et al., 2013)
- **HbA1c measurement** associated with 7% relative reduction in readmission (Strack et al., 2014)
- **Top predictors:** Number of inpatient visits, discharge disposition, number of medications, HbA1c testing
- **SHAP analysis** essential for clinical acceptance and interpretability (Zhang et al., 2018)

## Deployment Strategy

### Clinical Integration
- **EHR Integration:** Real-time prediction at discharge order entry
- **Display:** Risk score (Low/Moderate/High) + top 3 contributing factors with SHAP explanations
- **High-Risk Threshold:** Predicted probability ≥30% (top 25% of patients)

### Interventions for High-Risk Patients
- Extended discharge counseling (30 vs. 15 minutes)
- Medication reconciliation by clinical pharmacist
- 72-hour follow-up phone call from care coordinator
- Priority outpatient follow-up within 7 days
- Home health referral for complex cases

### Monitoring
- **Weekly:** Compare predicted vs. actual readmissions, alert if AUROC <0.70
- **Quarterly:** Retrain model on recent 12 months of data
- **Dashboard:** Daily high-risk patient list, intervention tracking

## Team Contributions

- **Abdullah Abdul Sami:** Annotated bibliography papers #1, #2, #7; Data preprocessing and feature engineering
- **Feifan Liu:** Annotated bibliography papers #5, #6, #8; Model development (Logistic Regression, XGBoost)
- **Jiahao Li:** Annotated bibliography papers #3, #4, #9; Exploratory data analysis and visualization

## Milestone 2 Deliverables

✅ **Completed:**
- Executive Summary and Problem Statement
- Dataset Overview and Feature Analysis
- Data Preparation Pipeline Design
- Feature Engineering Strategy (22+ derived features)
- Model Development Plan (4 models with hyperparameters)
- Evaluation Framework (metrics and cross-validation)
- Interpretability Strategy (SHAP, LIME, PDPs)
- Deployment Strategy (EHR integration and interventions)
- Annotated Bibliography (9 papers, 300+ words each)
- Exploratory Data Analysis Script

## References

See `docs/Annotated_Bibliography_FINAL.docx` for complete citations and annotations.

**Key Papers:**
1. Rajkomar et al. (2018) - Deep learning with EHR data
2. Suo et al. (2017) - Time-fusion CNN for patient similarity
3. Strack et al. (2014) - Original dataset paper (HbA1c impact)
4. Zolfaghar et al. (2013) - Multi-layer classification for imbalance
5. Emi-Johnson & Nkrumah (2025) - XGBoost benchmark (AUROC 0.667)
6. Zhang et al. (2018) - Neural network interpretability methods
7. Chawla et al. (2002) - SMOTE for class imbalance
8. Saeys et al. (2007) - Feature selection in bioinformatics
9. Sutton et al. (2020) - Clinical decision support systems

## License

This project is for academic purposes as part of MSDS 422 at Northwestern University.

## Contact

For questions about this project, please contact:
- Abdullah Abdul Sami
- Feifan Liu
- Jiahao Li

---

**Last Updated:** February 8, 2026  
**Northwestern University - Master of Science in Data Science**
